# AWS Copilot Service Configuration for AgentCore
# This file defines the service configuration for the main AgentCore application

name: agentcore
type: Backend Service

http:
  path: '/api'
  
image:
  build: './Dockerfile'

secrets:
  - name: DATABASE_URL
    from_cfn_output: DatabaseURL
  - name: API_KEY
    from_cfn_output: APIKey

variables:
  LOG_LEVEL: info
  NODE_ENV: production

count:
  min: 1
  max: 10
  cooldown:
    scale_in_cooldown: 300s
    scale_out_cooldown: 60s

network:
  vpc:
    enable_logs: true
    placement: 'private'

exec: true
logging:
  enable_metadata: true